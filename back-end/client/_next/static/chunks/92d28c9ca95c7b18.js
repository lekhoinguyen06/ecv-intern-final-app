(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,5809,48532,24135,52195,63116,5949,e=>{"use strict";let t,o,n,i,r;var s,a,c,d,l,E,p,u,x,h,m,g,I,S,A,R,y,f,v,P,N,C,T,F,U,w,D,_,M,b,O,L,k,B,V,q,H,z,W,K,$,G,Y,Z,J,j,X,Q,ee,et,eo,en,ei=e.i(26799),er=e.i(69675),es=e.i(95173),ea=e.i(62056),ec=e.i(37422);(s=_||(_={})).ConcurrentModificationException="ConcurrentModificationException",s.ForbiddenException="ForbiddenException",s.InternalErrorException="InternalErrorException",s.InvalidParameterException="InvalidParameterException",s.NotAuthorizedException="NotAuthorizedException",s.ResourceNotFoundException="ResourceNotFoundException",s.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException",(a=M||(M={})).ForbiddenException="ForbiddenException",a.InternalErrorException="InternalErrorException",a.InvalidParameterException="InvalidParameterException",a.InvalidPasswordException="InvalidPasswordException",a.LimitExceededException="LimitExceededException",a.NotAuthorizedException="NotAuthorizedException",a.PasswordResetRequiredException="PasswordResetRequiredException",a.ResourceNotFoundException="ResourceNotFoundException",a.TooManyRequestsException="TooManyRequestsException",a.UserNotConfirmedException="UserNotConfirmedException",a.UserNotFoundException="UserNotFoundException",(c=b||(b={})).ForbiddenException="ForbiddenException",c.InternalErrorException="InternalErrorException",c.InvalidLambdaResponseException="InvalidLambdaResponseException",c.InvalidParameterException="InvalidParameterException",c.InvalidPasswordException="InvalidPasswordException",c.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",c.NotAuthorizedException="NotAuthorizedException",c.PasswordResetRequiredException="PasswordResetRequiredException",c.ResourceNotFoundException="ResourceNotFoundException",c.TooManyRequestsException="TooManyRequestsException",c.UsernameExistsException="UsernameExistsException",c.UserNotConfirmedException="UserNotConfirmedException",c.UserNotFoundException="UserNotFoundException",(d=O||(O={})).CodeMismatchException="CodeMismatchException",d.ExpiredCodeException="ExpiredCodeException",d.ForbiddenException="ForbiddenException",d.InternalErrorException="InternalErrorException",d.InvalidLambdaResponseException="InvalidLambdaResponseException",d.InvalidParameterException="InvalidParameterException",d.InvalidPasswordException="InvalidPasswordException",d.LimitExceededException="LimitExceededException",d.NotAuthorizedException="NotAuthorizedException",d.ResourceNotFoundException="ResourceNotFoundException",d.TooManyFailedAttemptsException="TooManyFailedAttemptsException",d.TooManyRequestsException="TooManyRequestsException",d.UnexpectedLambdaException="UnexpectedLambdaException",d.UserLambdaValidationException="UserLambdaValidationException",d.UserNotConfirmedException="UserNotConfirmedException",d.UserNotFoundException="UserNotFoundException",(l=L||(L={})).AliasExistsException="AliasExistsException",l.CodeMismatchException="CodeMismatchException",l.ExpiredCodeException="ExpiredCodeException",l.ForbiddenException="ForbiddenException",l.InternalErrorException="InternalErrorException",l.InvalidLambdaResponseException="InvalidLambdaResponseException",l.InvalidParameterException="InvalidParameterException",l.LimitExceededException="LimitExceededException",l.NotAuthorizedException="NotAuthorizedException",l.ResourceNotFoundException="ResourceNotFoundException",l.TooManyFailedAttemptsException="TooManyFailedAttemptsException",l.TooManyRequestsException="TooManyRequestsException",l.UnexpectedLambdaException="UnexpectedLambdaException",l.UserLambdaValidationException="UserLambdaValidationException",l.UserNotFoundException="UserNotFoundException",(E=k||(k={})).ForbiddenException="ForbiddenException",E.InternalErrorException="InternalErrorException",E.InvalidParameterException="InvalidParameterException",E.NotAuthorizedException="NotAuthorizedException",E.PasswordResetRequiredException="PasswordResetRequiredException",E.ResourceNotFoundException="ResourceNotFoundException",E.TooManyRequestsException="TooManyRequestsException",E.UserNotConfirmedException="UserNotConfirmedException",E.UserNotFoundException="UserNotFoundException",(p=B||(B={})).ForbiddenException="ForbiddenException",p.InternalErrorException="InternalErrorException",p.InvalidParameterException="InvalidParameterException",p.NotAuthorizedException="NotAuthorizedException",p.PasswordResetRequiredException="PasswordResetRequiredException",p.ResourceNotFoundException="ResourceNotFoundException",p.TooManyRequestsException="TooManyRequestsException",p.UserNotConfirmedException="UserNotConfirmedException",p.UserNotFoundException="UserNotFoundException",(u=V||(V={})).ForbiddenException="ForbiddenException",u.InternalErrorException="InternalErrorException",u.InvalidParameterException="InvalidParameterException",u.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",u.NotAuthorizedException="NotAuthorizedException",u.PasswordResetRequiredException="PasswordResetRequiredException",u.ResourceNotFoundException="ResourceNotFoundException",u.TooManyRequestsException="TooManyRequestsException",u.UserNotConfirmedException="UserNotConfirmedException",u.UserNotFoundException="UserNotFoundException",(x=q||(q={})).CodeDeliveryFailureException="CodeDeliveryFailureException",x.ForbiddenException="ForbiddenException",x.InternalErrorException="InternalErrorException",x.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",x.InvalidLambdaResponseException="InvalidLambdaResponseException",x.InvalidParameterException="InvalidParameterException",x.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",x.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",x.LimitExceededException="LimitExceededException",x.NotAuthorizedException="NotAuthorizedException",x.ResourceNotFoundException="ResourceNotFoundException",x.TooManyRequestsException="TooManyRequestsException",x.UnexpectedLambdaException="UnexpectedLambdaException",x.UserLambdaValidationException="UserLambdaValidationException",x.UserNotFoundException="UserNotFoundException",(h=H||(H={})).ForbiddenException="ForbiddenException",h.InternalErrorException="InternalErrorException",h.InvalidParameterException="InvalidParameterException",h.NotAuthorizedException="NotAuthorizedException",h.PasswordResetRequiredException="PasswordResetRequiredException",h.ResourceNotFoundException="ResourceNotFoundException",h.TooManyRequestsException="TooManyRequestsException",h.UserNotConfirmedException="UserNotConfirmedException",h.UserNotFoundException="UserNotFoundException",(m=z||(z={})).ExternalServiceException="ExternalServiceException",m.InternalErrorException="InternalErrorException",m.InvalidParameterException="InvalidParameterException",m.LimitExceededException="LimitExceededException",m.NotAuthorizedException="NotAuthorizedException",m.ResourceConflictException="ResourceConflictException",m.ResourceNotFoundException="ResourceNotFoundException",m.TooManyRequestsException="TooManyRequestsException",(g=W||(W={})).ExternalServiceException="ExternalServiceException",g.InternalErrorException="InternalErrorException",g.InvalidIdentityPoolConfigurationException="InvalidIdentityPoolConfigurationException",g.InvalidParameterException="InvalidParameterException",g.NotAuthorizedException="NotAuthorizedException",g.ResourceConflictException="ResourceConflictException",g.ResourceNotFoundException="ResourceNotFoundException",g.TooManyRequestsException="TooManyRequestsException",(I=K||(K={})).CodeDeliveryFailureException="CodeDeliveryFailureException",I.ForbiddenException="ForbiddenException",I.InternalErrorException="InternalErrorException",I.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",I.InvalidLambdaResponseException="InvalidLambdaResponseException",I.InvalidParameterException="InvalidParameterException",I.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",I.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",I.LimitExceededException="LimitExceededException",I.NotAuthorizedException="NotAuthorizedException",I.PasswordResetRequiredException="PasswordResetRequiredException",I.ResourceNotFoundException="ResourceNotFoundException",I.TooManyRequestsException="TooManyRequestsException",I.UnexpectedLambdaException="UnexpectedLambdaException",I.UserLambdaValidationException="UserLambdaValidationException",I.UserNotConfirmedException="UserNotConfirmedException",I.UserNotFoundException="UserNotFoundException",(S=$||($={})).ForbiddenException="ForbiddenException",S.InternalErrorException="InternalErrorException",S.InvalidParameterException="InvalidParameterException",S.NotAuthorizedException="NotAuthorizedException",S.PasswordResetRequiredException="PasswordResetRequiredException",S.ResourceNotFoundException="ResourceNotFoundException",S.TooManyRequestsException="TooManyRequestsException",S.UserNotConfirmedException="UserNotConfirmedException",(A=G||(G={})).PasswordResetRequiredException="PasswordResetRequiredException",A.ForbiddenException="ForbiddenException",A.InternalErrorException="InternalErrorException",A.InvalidLambdaResponseException="InvalidLambdaResponseException",A.InvalidParameterException="InvalidParameterException",A.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",A.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",A.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",A.NotAuthorizedException="NotAuthorizedException",A.ResourceNotFoundException="ResourceNotFoundException",A.TooManyRequestsException="TooManyRequestsException",A.UnexpectedLambdaException="UnexpectedLambdaException",A.UserLambdaValidationException="UserLambdaValidationException",A.UserNotConfirmedException="UserNotConfirmedException",A.UserNotFoundException="UserNotFoundException",(R=Y||(Y={})).CodeDeliveryFailureException="CodeDeliveryFailureException",R.ForbiddenException="ForbiddenException",R.InternalErrorException="InternalErrorException",R.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",R.InvalidLambdaResponseException="InvalidLambdaResponseException",R.InvalidParameterException="InvalidParameterException",R.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",R.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",R.LimitExceededException="LimitExceededException",R.NotAuthorizedException="NotAuthorizedException",R.ResourceNotFoundException="ResourceNotFoundException",R.TooManyRequestsException="TooManyRequestsException",R.UnexpectedLambdaException="UnexpectedLambdaException",R.UserLambdaValidationException="UserLambdaValidationException",R.UserNotFoundException="UserNotFoundException",(y=Z||(Z={})).AliasExistsException="AliasExistsException",y.CodeMismatchException="CodeMismatchException",y.ExpiredCodeException="ExpiredCodeException",y.ForbiddenException="ForbiddenException",y.InternalErrorException="InternalErrorException",y.InvalidLambdaResponseException="InvalidLambdaResponseException",y.InvalidParameterException="InvalidParameterException",y.InvalidPasswordException="InvalidPasswordException",y.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",y.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",y.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",y.MFAMethodNotFoundException="MFAMethodNotFoundException",y.NotAuthorizedException="NotAuthorizedException",y.PasswordResetRequiredException="PasswordResetRequiredException",y.ResourceNotFoundException="ResourceNotFoundException",y.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException",y.TooManyRequestsException="TooManyRequestsException",y.UnexpectedLambdaException="UnexpectedLambdaException",y.UserLambdaValidationException="UserLambdaValidationException",y.UserNotConfirmedException="UserNotConfirmedException",y.UserNotFoundException="UserNotFoundException",(f=J||(J={})).ForbiddenException="ForbiddenException",f.InternalErrorException="InternalErrorException",f.InvalidParameterException="InvalidParameterException",f.NotAuthorizedException="NotAuthorizedException",f.PasswordResetRequiredException="PasswordResetRequiredException",f.ResourceNotFoundException="ResourceNotFoundException",f.UserNotConfirmedException="UserNotConfirmedException",f.UserNotFoundException="UserNotFoundException",(v=j||(j={})).CodeDeliveryFailureException="CodeDeliveryFailureException",v.InternalErrorException="InternalErrorException",v.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",v.InvalidLambdaResponseException="InvalidLambdaResponseException",v.InvalidParameterException="InvalidParameterException",v.InvalidPasswordException="InvalidPasswordException",v.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",v.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",v.NotAuthorizedException="NotAuthorizedException",v.ResourceNotFoundException="ResourceNotFoundException",v.TooManyRequestsException="TooManyRequestsException",v.UnexpectedLambdaException="UnexpectedLambdaException",v.UserLambdaValidationException="UserLambdaValidationException",v.UsernameExistsException="UsernameExistsException",(P=X||(X={})).AliasExistsException="AliasExistsException",P.CodeDeliveryFailureException="CodeDeliveryFailureException",P.CodeMismatchException="CodeMismatchException",P.ExpiredCodeException="ExpiredCodeException",P.ForbiddenException="ForbiddenException",P.InternalErrorException="InternalErrorException",P.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",P.InvalidLambdaResponseException="InvalidLambdaResponseException",P.InvalidParameterException="InvalidParameterException",P.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",P.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",P.NotAuthorizedException="NotAuthorizedException",P.PasswordResetRequiredException="PasswordResetRequiredException",P.ResourceNotFoundException="ResourceNotFoundException",P.TooManyRequestsException="TooManyRequestsException",P.UnexpectedLambdaException="UnexpectedLambdaException",P.UserLambdaValidationException="UserLambdaValidationException",P.UserNotConfirmedException="UserNotConfirmedException",P.UserNotFoundException="UserNotFoundException",(N=Q||(Q={})).CodeMismatchException="CodeMismatchException",N.EnableSoftwareTokenMFAException="EnableSoftwareTokenMFAException",N.ForbiddenException="ForbiddenException",N.InternalErrorException="InternalErrorException",N.InvalidParameterException="InvalidParameterException",N.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",N.NotAuthorizedException="NotAuthorizedException",N.PasswordResetRequiredException="PasswordResetRequiredException",N.ResourceNotFoundException="ResourceNotFoundException",N.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException",N.TooManyRequestsException="TooManyRequestsException",N.UserNotConfirmedException="UserNotConfirmedException",N.UserNotFoundException="UserNotFoundException",(C=ee||(ee={})).AliasExistsException="AliasExistsException",C.CodeMismatchException="CodeMismatchException",C.ExpiredCodeException="ExpiredCodeException",C.ForbiddenException="ForbiddenException",C.InternalErrorException="InternalErrorException",C.InvalidParameterException="InvalidParameterException",C.LimitExceededException="LimitExceededException",C.NotAuthorizedException="NotAuthorizedException",C.PasswordResetRequiredException="PasswordResetRequiredException",C.ResourceNotFoundException="ResourceNotFoundException",C.TooManyRequestsException="TooManyRequestsException",C.UserNotConfirmedException="UserNotConfirmedException",C.UserNotFoundException="UserNotFoundException",(T=et||(et={})).ForbiddenException="ForbiddenException",T.InternalErrorException="InternalErrorException",T.InvalidParameterException="InvalidParameterException",T.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",T.NotAuthorizedException="NotAuthorizedException",T.PasswordResetRequiredException="PasswordResetRequiredException",T.ResourceNotFoundException="ResourceNotFoundException",T.TooManyRequestsException="TooManyRequestsException",T.UserNotConfirmedException="UserNotConfirmedException",T.UserNotFoundException="UserNotFoundException",(F=eo||(eo={})).ForbiddenException="ForbiddenException",F.InternalErrorException="InternalErrorException",F.InvalidParameterException="InvalidParameterException",F.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",F.NotAuthorizedException="NotAuthorizedException",F.PasswordResetRequiredException="PasswordResetRequiredException",F.ResourceNotFoundException="ResourceNotFoundException",F.TooManyRequestsException="TooManyRequestsException",F.UserNotConfirmedException="UserNotConfirmedException",F.UserNotFoundException="UserNotFoundException",e.s(["InitiateAuthException",()=>G,"SignUpException",()=>j],48532);var ed=e.i(7846),el=e.i(30811),eE=e.i(86131),ep=e.i(48050),eu=e.i(70295),ex=e.i(49147),eh=e.i(93968),em=e.i(14970),eg=e.i(98531),eI=e.i(9994),eS=e.i(14258);let eA=e=>(0,eh.composeServiceApi)(eI.cognitoUserPoolTransferHandler,(0,em.createUserPoolSerializer)("InitiateAuth"),(0,eg.createUserPoolDeserializer)(),{...eS.DEFAULT_SERVICE_CLIENT_API_CONFIG,...e}),eR=e=>(0,eh.composeServiceApi)(eI.cognitoUserPoolTransferHandler,(0,em.createUserPoolSerializer)("RespondToAuthChallenge"),(0,eg.createUserPoolDeserializer)(),{...eS.DEFAULT_SERVICE_CLIENT_API_CONFIG,...e});var ey=e.i(93420),ef=e.i(29423),ev=e.i(7066),eP=e.i(85032);async function eN(e){if(e.AccessToken){let t,o,n,i=(0,es.decodeJWT)(e.AccessToken),r=1e3*(i.payload.iat||0),s=new Date().getTime();e.RefreshToken&&(o=e.RefreshToken),e.IdToken&&(t=(0,es.decodeJWT)(e.IdToken)),e?.NewDeviceMetadata&&(n=e.NewDeviceMetadata);let a={accessToken:i,idToken:t,refreshToken:o,clockDrift:r>0?r-s:0,deviceMetadata:n,username:e.username};e?.signInDetails&&(a.signInDetails=e.signInDetails),await eP.tokenOrchestrator.setTokens({tokens:a})}else throw new ev.AmplifyError({message:"Invalid tokens",name:"InvalidTokens",recoverySuggestion:"Check Cognito UserPool settings"})}var eC=e.i(72429);let eT=async()=>{try{eC.Hub.dispatch("auth",{event:"signedIn",data:await (0,eu.getCurrentUser)()},"Auth",eC.AMPLIFY_SYMBOL)}catch(e){if(e.name===ep.USER_UNAUTHENTICATED_EXCEPTION)throw new ec.AuthError({name:ep.UNEXPECTED_SIGN_IN_INTERRUPTION_EXCEPTION,message:"Unable to get user session following successful sign-in.",recoverySuggestion:"This most likely is due to auth tokens not being persisted. If you are using cookie store, please ensure cookies can be correctly set from your server."});throw e}};var eF=e.i(580);let eU="CognitoSignInState",ew={username:`${eU}.username`,challengeName:`${eU}.challengeName`,signInSession:`${eU}.signInSession`,expiry:`${eU}.expiry`},eD=()=>{eb.dispatch({type:"RESET_STATE"})},e_=()=>{for(let e of Object.values(ew))eF.syncSessionStorage.removeItem(e)},eM=()=>({username:void 0,challengeName:void 0,signInSession:void 0}),eb=(i=(U=(e,t)=>{switch(t.type){case"SET_SIGN_IN_SESSION":return eL({signInSession:t.value}),{...e,signInSession:t.value};case"SET_SIGN_IN_STATE":return eL(t.value),{...t.value};case"SET_CHALLENGE_NAME":return eL({challengeName:t.value}),{...e,challengeName:t.value};case"SET_USERNAME":return eL({username:t.value}),{...e,username:t.value};case"SET_INITIAL_STATE":let o=eF.syncSessionStorage.getItem(ew.expiry);if(!o||Number(o)<=Date.now())return e_(),eM();return{username:eF.syncSessionStorage.getItem(ew.username)??void 0,challengeName:eF.syncSessionStorage.getItem(ew.challengeName)??void 0,signInSession:eF.syncSessionStorage.getItem(ew.signInSession)??void 0};case"RESET_STATE":return e_(),eM();default:return e}})(eM(),{type:"SET_INITIAL_STATE"}),{getState:()=>i,dispatch:e=>{i=U(i,e)}});function eO(e){eb.dispatch({type:"SET_SIGN_IN_STATE",value:e})}let eL=({challengeName:e,signInSession:t,username:o})=>{o&&eF.syncSessionStorage.setItem(ew.username,o),e&&eF.syncSessionStorage.setItem(ew.challengeName,e),t&&(eF.syncSessionStorage.setItem(ew.signInSession,t),eF.syncSessionStorage.setItem(ew.expiry,String(Date.now()+18e4)))};var ek=e.i(72337),eB=ev;let eV="Passkeys may not be supported on this device. Ensure your application is running in a secure context (HTTPS) and Web Authentication API is supported.";class eq extends eB.AmplifyError{constructor(e){super(e),this.constructor=eq,Object.setPrototypeOf(this,eq.prototype)}}(w=en||(en={})).PasskeyNotSupported="PasskeyNotSupported",w.PasskeyAlreadyExists="PasskeyAlreadyExists",w.InvalidPasskeyRegistrationOptions="InvalidPasskeyRegistrationOptions",w.InvalidPasskeyAuthenticationOptions="InvalidPasskeyAuthenticationOptions",w.RelyingPartyMismatch="RelyingPartyMismatch",w.PasskeyRegistrationFailed="PasskeyRegistrationFailed",w.PasskeyRetrievalFailed="PasskeyRetrievalFailed",w.PasskeyRegistrationCanceled="PasskeyRegistrationCanceled",w.PasskeyAuthenticationCanceled="PasskeyAuthenticationCanceled",w.PasskeyOperationAborted="PasskeyOperationAborted";let eH="User may have canceled the ceremony or another interruption has occurred. Check underlying error for details.",ez="Ensure your user pool is configured to support the WEB_AUTHN as an authentication factor.",eW={[en.PasskeyNotSupported]:{message:"Passkeys may not be supported on this device.",recoverySuggestion:eV},[en.InvalidPasskeyRegistrationOptions]:{message:"Invalid passkey registration options.",recoverySuggestion:ez},[en.InvalidPasskeyAuthenticationOptions]:{message:"Invalid passkey authentication options.",recoverySuggestion:ez},[en.PasskeyRegistrationFailed]:{message:"Device failed to create passkey.",recoverySuggestion:eV},[en.PasskeyRetrievalFailed]:{message:"Device failed to retrieve passkey.",recoverySuggestion:"Passkeys may not be available on this device. Try an alternative authentication factor like PASSWORD, EMAIL_OTP, or SMS_OTP."},[en.PasskeyAlreadyExists]:{message:"Passkey already exists in authenticator.",recoverySuggestion:"Proceed with existing passkey or try again after deleting the credential."},[en.PasskeyRegistrationCanceled]:{message:"Passkey registration ceremony has been canceled.",recoverySuggestion:eH},[en.PasskeyAuthenticationCanceled]:{message:"Passkey authentication ceremony has been canceled.",recoverySuggestion:eH},[en.PasskeyOperationAborted]:{message:"Passkey operation has been aborted.",recoverySuggestion:eH},[en.RelyingPartyMismatch]:{message:"Relying party does not match current domain.",recoverySuggestion:"Ensure relying party identifier matches current domain."}},eK=(0,ek.createAssertionFunction)(eW,eq);var e$=e.i(92596),eG=e.i(89864),eY=e.i(83533);let eZ={convert(e,t={urlSafe:!1,skipPadding:!1}){let o="string"==typeof e?e:Array.from(e,e=>String.fromCodePoint(e)).join(""),n=(0,eY.getBtoa)()(o);return t.urlSafe&&(n=n.replace(/\+/g,"-").replace(/\//g,"_")),t.skipPadding&&(n=n.replace(/=/g,"")),n}},eJ=e=>eZ.convert(new Uint8Array(e),{urlSafe:!0,skipPadding:!0});var ej=e.i(63237);let eX=e=>Uint8Array.from(ej.base64Decoder.convert(e,{urlSafe:!0}),e=>e.charCodeAt(0)).buffer,eQ=async e=>{try{let t,o,n,i,r=(0,eG.isBrowser)()&&window.isSecureContext&&"credentials"in navigator&&"function"==typeof window.PublicKeyCredential;eK(r,en.PasskeyNotSupported);let s=(t=eX(e.challenge),o=(e.allowCredentials||[]).map(e=>({...e,id:eX(e.id)})),{...e,challenge:t,allowCredentials:o}),a=await navigator.credentials.get({publicKey:s});return eK(a&&a instanceof PublicKeyCredential&&a.response instanceof AuthenticatorAssertionResponse,en.PasskeyRetrievalFailed),n={clientDataJSON:eJ(a.response.clientDataJSON),authenticatorData:eJ(a.response.authenticatorData),signature:eJ(a.response.signature)},a.response.userHandle&&(n.userHandle=eJ(a.response.userHandle)),i={id:a.id,rawId:eJ(a.rawId),type:a.type,clientExtensionResults:a.getClientExtensionResults(),response:n},a.authenticatorAttachment&&(i.authenticatorAttachment=a.authenticatorAttachment),i}catch(e){throw(e=>{if(e instanceof eq)return e;if(e instanceof Error&&"NotAllowedError"===e.name){let{message:t,recoverySuggestion:o}=eW[en.PasskeyAuthenticationCanceled];return new eq({name:en.PasskeyAuthenticationCanceled,message:t,recoverySuggestion:o,underlyingError:e})}return(e=>{if(e instanceof Error){if("AbortError"===e.name){let{message:t,recoverySuggestion:o}=eW[en.PasskeyOperationAborted];return new eq({name:en.PasskeyOperationAborted,message:t,recoverySuggestion:o,underlyingError:e})}if("SecurityError"===e.name){let{message:t,recoverySuggestion:o}=eW[en.RelyingPartyMismatch];return new eq({name:en.RelyingPartyMismatch,message:t,recoverySuggestion:o,underlyingError:e})}}return new eq({name:e$.AmplifyErrorCode.Unknown,message:"An unknown error has occurred.",underlyingError:e})})(e)})(e)}},e0=async()=>{let{userAgentData:e}=navigator;if(!e)return navigator.userAgent;let{platform:t="",platformVersion:o="",model:n="",architecture:i="",fullVersionList:r=[]}=await e.getHighEntropyValues(["platform","platformVersion","architecture","model","fullVersionList"]);return[t,o,i,n,t,r.map(e=>`${e.brand}/${e.version}`).join(";")].filter(e=>e).join(" ")||navigator.userAgent},e1={convert:e=>new TextEncoder().encode(e)};function e2(e,t){null!=e&&this.fromString(e,t)}function e6(){return new e2(null,null)}let e5="undefined"!=typeof navigator;e5&&"Microsoft Internet Explorer"===navigator.appName?(e2.prototype.am=function(e,t,o,n,i,r){let s=32767&t,a=t>>15;for(;--r>=0;){let t=32767&this[e],r=this[e++]>>15,c=a*t+r*s;i=((t=s*t+((32767&c)<<15)+o[n]+(0x3fffffff&i))>>>30)+(c>>>15)+a*r+(i>>>30),o[n++]=0x3fffffff&t}return i},t=30):e5&&"Netscape"!==navigator.appName?(e2.prototype.am=function(e,t,o,n,i,r){for(;--r>=0;){let r=t*this[e++]+o[n]+i;i=Math.floor(r/0x4000000),o[n++]=0x3ffffff&r}return i},t=26):(e2.prototype.am=function(e,t,o,n,i,r){let s=16383&t,a=t>>14;for(;--r>=0;){let t=16383&this[e],r=this[e++]>>14,c=a*t+r*s;i=((t=s*t+((16383&c)<<14)+o[n]+i)>>28)+(c>>14)+a*r,o[n++]=0xfffffff&t}return i},t=28),e2.prototype.DB=t,e2.prototype.DM=(1<<t)-1,e2.prototype.DV=1<<t,e2.prototype.FV=0x10000000000000,e2.prototype.F1=52-t,e2.prototype.F2=2*t-52;let e3=[];for(n=0,o=48;n<=9;++n)e3[o++]=n;for(n=10,o=97;n<36;++n)e3[o++]=n;for(n=10,o=65;n<36;++n)e3[o++]=n;function e4(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function e8(e){let t=e6();return t.fromInt(e),t}function e7(e){let t,o=1;return 0!=(t=e>>>16)&&(e=t,o+=16),0!=(t=e>>8)&&(e=t,o+=8),0!=(t=e>>4)&&(e=t,o+=4),0!=(t=e>>2)&&(e=t,o+=2),0!=(t=e>>1)&&(e=t,o+=1),o}function e9(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}e9.prototype.convert=function(e){let t=e6();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(e2.ZERO)>0&&this.m.subTo(t,t),t},e9.prototype.revert=function(e){let t=e6();return e.copyTo(t),this.reduce(t),t},e9.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(let t=0;t<this.m.t;++t){let o=32767&e[t],n=o*this.mpl+((o*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(o=t+this.m.t,e[o]+=this.m.am(0,n,e,t,0,this.m.t);e[o]>=e.DV;)e[o]-=e.DV,e[++o]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},e9.prototype.mulTo=function(e,t,o){e.multiplyTo(t,o),this.reduce(o)},e9.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e2.prototype.copyTo=function(e){for(let t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},e2.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},e2.prototype.fromString=function(e,t){let o;if(16===t)o=4;else if(8===t)o=3;else if(2===t)o=1;else if(32===t)o=5;else if(4===t)o=2;else throw Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;let n=e.length,i=!1,r=0;for(;--n>=0;){let t=function(e,t){let o=e3[e.charCodeAt(t)];return null==o?-1:o}(e,n);if(t<0){"-"===e.charAt(n)&&(i=!0);continue}i=!1,0===r?this[this.t++]=t:r+o>this.DB?(this[this.t-1]|=(t&(1<<this.DB-r)-1)<<r,this[this.t++]=t>>this.DB-r):this[this.t-1]|=t<<r,(r+=o)>=this.DB&&(r-=this.DB)}this.clamp(),i&&e2.ZERO.subTo(this,this)},e2.prototype.clamp=function(){let e=this.s&this.DM;for(;this.t>0&&this[this.t-1]==e;)--this.t},e2.prototype.dlShiftTo=function(e,t){let o;for(o=this.t-1;o>=0;--o)t[o+e]=this[o];for(o=e-1;o>=0;--o)t[o]=0;t.t=this.t+e,t.s=this.s},e2.prototype.drShiftTo=function(e,t){for(let o=e;o<this.t;++o)t[o-e]=this[o];t.t=Math.max(this.t-e,0),t.s=this.s},e2.prototype.lShiftTo=function(e,t){let o,n=e%this.DB,i=this.DB-n,r=(1<<i)-1,s=Math.floor(e/this.DB),a=this.s<<n&this.DM;for(o=this.t-1;o>=0;--o)t[o+s+1]=this[o]>>i|a,a=(this[o]&r)<<n;for(o=s-1;o>=0;--o)t[o]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},e2.prototype.rShiftTo=function(e,t){t.s=this.s;let o=Math.floor(e/this.DB);if(o>=this.t){t.t=0;return}let n=e%this.DB,i=this.DB-n,r=(1<<n)-1;t[0]=this[o]>>n;for(let e=o+1;e<this.t;++e)t[e-o-1]|=(this[e]&r)<<i,t[e-o]=this[e]>>n;n>0&&(t[this.t-o-1]|=(this.s&r)<<i),t.t=this.t-o,t.clamp()},e2.prototype.subTo=function(e,t){let o=0,n=0,i=Math.min(e.t,this.t);for(;o<i;)n+=this[o]-e[o],t[o++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;o<this.t;)n+=this[o],t[o++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;o<e.t;)n-=e[o],t[o++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[o++]=this.DV+n:n>0&&(t[o++]=n),t.t=o,t.clamp()},e2.prototype.multiplyTo=function(e,t){let o=this.abs(),n=e.abs(),i=o.t;for(t.t=i+n.t;--i>=0;)t[i]=0;for(i=0;i<n.t;++i)t[i+o.t]=o.am(0,n[i],t,i,0,o.t);t.s=0,t.clamp(),this.s!==e.s&&e2.ZERO.subTo(t,t)},e2.prototype.squareTo=function(e){let t=this.abs(),o=e.t=2*t.t;for(;--o>=0;)e[o]=0;for(o=0;o<t.t-1;++o){let n=t.am(o,t[o],e,2*o,0,1);(e[o+t.t]+=t.am(o+1,2*t[o],e,2*o+1,n,t.t-o-1))>=t.DV&&(e[o+t.t]-=t.DV,e[o+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(o,t[o],e,2*o,0,1)),e.s=0,e.clamp()},e2.prototype.divRemTo=function(e,t,o){let n=e.abs();if(n.t<=0)return;let i=this.abs();if(i.t<n.t){null!=t&&t.fromInt(0),null!=o&&this.copyTo(o);return}null===o&&(o=e6());let r=e6(),s=this.s,a=e.s,c=this.DB-e7(n[n.t-1]);c>0?(n.lShiftTo(c,r),i.lShiftTo(c,o)):(n.copyTo(r),i.copyTo(o));let d=r.t,l=r[d-1];if(0===l)return;let E=l*(1<<this.F1)+(d>1?r[d-2]>>this.F2:0),p=this.FV/E,u=(1<<this.F1)/E,x=1<<this.F2,h=o.t,m=h-d,g=null===t?e6():t;for(r.dlShiftTo(m,g),o.compareTo(g)>=0&&(o[o.t++]=1,o.subTo(g,o)),e2.ONE.dlShiftTo(d,g),g.subTo(r,r);r.t<d;)r[r.t++]=0;for(;--m>=0;){let e=o[--h]===l?this.DM:Math.floor(o[h]*p+(o[h-1]+x)*u);if((o[h]+=r.am(0,e,o,m,0,d))<e)for(r.dlShiftTo(m,g),o.subTo(g,o);o[h]<--e;)o.subTo(g,o)}null!==t&&(o.drShiftTo(d,t),s!==a&&e2.ZERO.subTo(t,t)),o.t=d,o.clamp(),c>0&&o.rShiftTo(c,o),s<0&&e2.ZERO.subTo(o,o)},e2.prototype.invDigit=function(){if(this.t<1)return 0;let e=this[0];if((1&e)==0)return 0;let t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},e2.prototype.addTo=function(e,t){let o=0,n=0,i=Math.min(e.t,this.t);for(;o<i;)n+=this[o]+e[o],t[o++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;o<this.t;)n+=this[o],t[o++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;o<e.t;)n+=e[o],t[o++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[o++]=n:n<-1&&(t[o++]=this.DV+n),t.t=o,t.clamp()},e2.prototype.toString=function(e){let t,o;if(this.s<0)return"-"+this.negate().toString(e);if(16==e)t=4;else if(8===e)t=3;else if(2===e)t=1;else if(32===e)t=5;else if(4===e)t=2;else throw Error("Only radix 2, 4, 8, 16, 32 are supported");let n=(1<<t)-1,i=!1,r="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(o=this[s]>>a)>0&&(i=!0,r=e4(o));s>=0;)a<t?o=(this[s]&(1<<a)-1)<<t-a|this[--s]>>(a+=this.DB-t):(o=this[s]>>(a-=t)&n,a<=0&&(a+=this.DB,--s)),o>0&&(i=!0),i&&(r+=e4(o));return i?r:"0"},e2.prototype.negate=function(){let e=e6();return e2.ZERO.subTo(this,e),e},e2.prototype.abs=function(){return this.s<0?this.negate():this},e2.prototype.compareTo=function(e){let t=this.s-e.s;if(0!=t)return t;let o=this.t;if(0!=(t=o-e.t))return this.s<0?-t:t;for(;--o>=0;)if(0!=(t=this[o]-e[o]))return t;return 0},e2.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+e7(this[this.t-1]^this.s&this.DM)},e2.prototype.mod=function(e){let t=e6();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(e2.ZERO)>0&&e.subTo(t,t),t},e2.prototype.equals=function(e){return 0===this.compareTo(e)},e2.prototype.add=function(e){let t=e6();return this.addTo(e,t),t},e2.prototype.subtract=function(e){let t=e6();return this.subTo(e,t),t},e2.prototype.multiply=function(e){let t=e6();return this.multiplyTo(e,t),t},e2.prototype.divide=function(e){let t=e6();return this.divRemTo(e,t,null),t},e2.prototype.modPow=function(e,t,o){let n,i,r,s=e.bitLength(),a=e8(1),c=new e9(t);if(s<=0)return a;let d=[],l=3,E=(n=s<18?1:s<48?3:s<144?4:s<768?5:6)-1,p=(1<<n)-1;if(d[1]=c.convert(this),n>1){let e=e6();for(c.sqrTo(d[1],e);l<=p;)d[l]=e6(),c.mulTo(e,d[l-2],d[l]),l+=2}let u=e.t-1,x=!0,h=e6();for(s=e7(e[u])-1;u>=0;){for(s>=E?i=e[u]>>s-E&p:(i=(e[u]&(1<<s+1)-1)<<E-s,u>0&&(i|=e[u-1]>>this.DB+s-E)),l=n;(1&i)==0;)i>>=1,--l;if((s-=l)<0&&(s+=this.DB,--u),x)d[i].copyTo(a),x=!1;else{for(;l>1;)c.sqrTo(a,h),c.sqrTo(h,a),l-=2;l>0?c.sqrTo(a,h):(r=a,a=h,h=r),c.mulTo(h,d[i],a)}for(;u>=0&&(e[u]&1<<s)==0;)c.sqrTo(a,h),r=a,a=h,h=r,--s<0&&(s=this.DB-1,--u)}let m=c.revert(a);return o(null,m),m},e2.ZERO=e8(0),e2.ONE=e8(1);let te=async({a:e,g:t,k:o,x:n,B:i,N:r,U:s})=>new Promise((a,c)=>{t.modPow(n,r,(t,d)=>{t?c(t):i.subtract(o.multiply(d)).modPow(e.add(s.multiply(n)),r,(e,t)=>{e?c(e):a(t.mod(r))})})}),tt={},to={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),tt[e]=t,to[t]=e}let tn=e=>{if(e.length%2!=0)throw Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let o=0;o<e.length;o+=2){let n=e.slice(o,o+2).toLowerCase();if(n in to)t[o/2]=to[n];else throw Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t};e.i(11795);var ti=e.i(82574);let tr=e=>{let t="";for(let o=0;o<e.byteLength;o++)t+=tt[e[o]];return t},ts=e=>{let t=new ti.Sha256;t.update(e);let o=tr(t.digestSync());return Array(64-o.length).join("0")+o},ta=/^[89a-f]/i,tc=e=>{if(!(e instanceof e2))throw Error("Not a BigInteger");let t=0>e.compareTo(e2.ZERO),o=e.abs().toString(16);return o=o.length%2!=0?`0${o}`:o,o=ta.test(o)?`00${o}`:o,t&&(o=new e2(o.split("").map(e=>{let t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)}).join(""),16).add(e2.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(o=o.substring(2)),o};class td{constructor(e,t){this.words=[];let o=e;o=this.words=o||[],void 0!==t?this.sigBytes=t:this.sigBytes=4*o.length}random(e){let t=[];for(let o=0;o<e;o+=4)t.push((0,eY.getCrypto)().getRandomValues(new Uint32Array(1))[0]);return new td(t,e)}toString(){return function(e){let{words:t}=e,{sigBytes:o}=e,n=[];for(let e=0;e<o;e++){let o=t[e>>>2]>>>24-e%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")}(this)}}let tl=e=>tn(new td().random(e).toString());class tE{constructor({userPoolName:e,a:t,g:o,A:n,N:i}){this.encoder=e1,this.userPoolName=e,this.a=t,this.g=o,this.A=n,this.N=i,this.k=new e2(ts(tn(`${tc(i)}${tc(o)}`)),16)}getRandomPassword(){if(!this.randomPassword)throw new ec.AuthError({name:"EmptyBigIntegerRandomPassword",message:"random password is empty"});return this.randomPassword}getSaltToHashDevices(){if(!this.saltToHashDevices)throw new ec.AuthError({name:"EmptyBigIntegersaltToHashDevices",message:"saltToHashDevices is empty"});return this.saltToHashDevices}getVerifierDevices(){if(!this.verifierDevices)throw new ec.AuthError({name:"EmptyBigIntegerVerifierDevices",message:"verifyDevices is empty"});return this.verifierDevices}async generateHashDevice(e,t){this.randomPassword=eZ.convert(tl(40));let o=ts(`${e}${t}:${this.randomPassword}`),n=tr(tl(16));return this.saltToHashDevices=tc(new e2(n,16)),new Promise((e,t)=>{this.g.modPow(new e2(ts(tn(this.saltToHashDevices+o)),16),this.N,(o,n)=>{o?t(o):(this.verifierDevices=tc(n),e())})})}async getPasswordAuthenticationKey({username:e,password:t,serverBValue:o,salt:n}){var i,r;let s,a,c;if(o.mod(this.N).equals(e2.ZERO))throw Error("B cannot be zero.");let d=(({A:e,B:t})=>{let o=new e2(ts(tn(tc(e)+tc(t))),16);if(o.equals(e2.ZERO))throw Error("U cannot be zero.");return o})({A:this.A,B:o}),l=ts(`${this.userPoolName}${e}:${t}`),E=new e2(ts(tn(tc(n)+l)),16),p=await te({a:this.a,g:this.g,k:this.k,x:E,B:o,N:this.N,U:d}),u=this.encoder.convert("Caldera Derived Key"),x=this.encoder.convert("\x01"),h=new Uint8Array(u.byteLength+x.byteLength);return h.set(u,0),h.set(x,u.byteLength),i=tn(tc(p)),r=tn(tc(d)),(s=new ti.Sha256(r)).update(i),a=s.digestSync(),(c=new ti.Sha256(a)).update(h),c.digestSync().slice(0,16)}}let tp=async({a:e,g:t,N:o})=>new Promise((n,i)=>{t.modPow(e,o,(e,t)=>{e?i(e):t.mod(o).equals(e2.ZERO)?i(Error("Illegal parameter. A mod N cannot be 0.")):n(t)})}),tu=async e=>{let t=new e2("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),o=new e2("2",16),n=tx(),i=await tp({a:n,g:o,N:t});return new tE({userPoolName:e,a:n,g:o,A:i,N:t})},tx=()=>new e2(tr(tl(128)),16);async function th({userPoolId:e,userPoolEndpoint:t,newDeviceMetadata:o,accessToken:n}){if(!o)return;let i=e.split("_")[1]||"",r=await tu(i),s=o?.DeviceKey,a=o?.DeviceGroupKey;try{await r.generateHashDevice(a??"",s??"")}catch(e){return}let c={Salt:eZ.convert(tn(r.getSaltToHashDevices())),PasswordVerifier:eZ.convert(tn(r.getVerifierDevices()))},d=r.getRandomPassword();try{let i,r=(i={endpointResolver:(0,ey.createCognitoUserPoolEndpointResolver)({endpointOverride:t})},(0,eh.composeServiceApi)(eI.cognitoUserPoolTransferHandler,(0,em.createUserPoolSerializer)("ConfirmDevice"),(0,eg.createUserPoolDeserializer)(),{...eS.DEFAULT_SERVICE_CLIENT_API_CONFIG,...i}));return await r({region:(0,ef.getRegionFromUserPoolId)(e)},{AccessToken:n,DeviceName:await e0(),DeviceKey:o?.DeviceKey,DeviceSecretVerifierConfig:c}),{deviceKey:s,deviceGroupKey:a,randomPassword:d}}catch(e){return}}async function tm(e){let t=ei.Amplify.getConfig().Auth?.Cognito;(0,es.assertTokenProviderConfig)(t);let{username:o,signInSession:n,signInDetails:i,challengeName:r}=eb.getState();if("WEB_AUTHN"!==r||!o)throw new ec.AuthError({name:ed.AuthErrorCodes.SignInException,message:"Unable to proceed due to invalid sign in state."});let{CREDENTIAL_REQUEST_OPTIONS:s}=e;eK(!!s,en.InvalidPasskeyAuthenticationOptions);let a=await eQ(JSON.parse(s)),c=eR({endpointResolver:(0,ey.createCognitoUserPoolEndpointResolver)({endpointOverride:t.userPoolEndpoint})}),{ChallengeName:d,ChallengeParameters:l,AuthenticationResult:E,Session:p}=await c({region:(0,ef.getRegionFromUserPoolId)(t.userPoolId),userAgentValue:(0,ex.getAuthUserAgentValue)(er.AuthAction.ConfirmSignIn)},{ChallengeName:"WEB_AUTHN",ChallengeResponses:{USERNAME:o,CREDENTIAL:JSON.stringify(a)},ClientId:t.userPoolClientId,Session:n});if(eO({signInSession:p,username:o,challengeName:d,signInDetails:i}),E)return await eN({...E,username:o,NewDeviceMetadata:await th({userPoolId:t.userPoolId,userPoolEndpoint:t.userPoolEndpoint,newDeviceMetadata:E.NewDeviceMetadata,accessToken:E.AccessToken}),signInDetails:i}),eb.dispatch({type:"RESET_STATE"}),await eT(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};if("WEB_AUTHN"===d)throw new ec.AuthError({name:ed.AuthErrorCodes.SignInException,message:"Sequential WEB_AUTHN challenges returned from underlying service cannot be handled."});return{challengeName:d,challengeParameters:l}}function tg({username:e,userPoolId:t,userPoolClientId:o}){if("undefined"==typeof window)return;let n=window.AmazonCognitoAdvancedSecurityData;if(void 0===n)return;let i=n.getData(e,t,o);return i?{EncodedData:i}:{}}e.s(["getUserContextData",()=>tg],24135);let tI=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tS=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],tA=()=>{let e=new Date,t=tS[e.getUTCDay()],o=tI[e.getUTCMonth()],n=e.getUTCDate(),i=e.getUTCHours();i<10&&(i=`0${i}`);let r=e.getUTCMinutes();r<10&&(r=`0${r}`);let s=e.getUTCSeconds();s<10&&(s=`0${s}`);let a=e.getUTCFullYear();return`${t} ${o} ${n} ${i}:${r}:${s} UTC ${a}`},tR=({userPoolName:e,username:t,challengeParameters:o,dateNow:n,hkdf:i})=>{let r=e1.convert(e),s=e1.convert(t),a=ty(o.SECRET_BLOCK),c=e1.convert(n),d=new Uint8Array(r.byteLength+s.byteLength+a.byteLength+c.byteLength);d.set(r,0),d.set(s,r.byteLength),d.set(a,r.byteLength+s.byteLength),d.set(c,r.byteLength+s.byteLength+a.byteLength);let l=new ti.Sha256(i);l.update(d);let E=l.digestSync();return eZ.convert(E)},ty=e=>{let t="=".repeat((4-e.length%4)%4),o=(e+t).replace(/-/g,"+").replace(/_/g,"/"),n=ej.base64Decoder.convert(o),i=new Uint8Array(n.length);for(let e=0;e<n.length;++e)i[e]=n.charCodeAt(e);return i};var tf=e.i(57646);async function tv({username:e,config:t,clientMetadata:o,session:n,tokenOrchestrator:i}){let{userPoolId:r,userPoolEndpoint:s}=t,a=t.userPoolClientId,c=await i?.getDeviceMetadata(e);(0,tf.assertDeviceMetadata)(c);let d=await tu(c.deviceGroupKey),l={USERNAME:e,SRP_A:d.A.toString(16),DEVICE_KEY:c.deviceKey},E=eR({endpointResolver:(0,ey.createCognitoUserPoolEndpointResolver)({endpointOverride:s})}),{ChallengeParameters:p,Session:u}=await E({region:(0,ef.getRegionFromUserPoolId)(r)},{ChallengeName:"DEVICE_SRP_AUTH",ClientId:a,ChallengeResponses:l,ClientMetadata:o,Session:n});return tP(e,p,o,u,d,t,i)}async function tP(e,t,o,n,i,{userPoolId:r,userPoolClientId:s,userPoolEndpoint:a},c){let d=await c?.getDeviceMetadata(e);(0,tf.assertDeviceMetadata)(d);let l=new e2(t?.SRP_B,16),E=new e2(t?.SALT,16),{deviceKey:p}=d,{deviceGroupKey:u}=d,x=await i.getPasswordAuthenticationKey({username:d.deviceKey,password:d.randomPassword,serverBValue:l,salt:E}),h=tA(),m={USERNAME:t?.USERNAME??e,PASSWORD_CLAIM_SECRET_BLOCK:t?.SECRET_BLOCK,TIMESTAMP:h,PASSWORD_CLAIM_SIGNATURE:tR({username:p,userPoolName:u,challengeParameters:t,dateNow:h,hkdf:x}),DEVICE_KEY:p},g=tg({username:e,userPoolId:r,userPoolClientId:s});return eR({endpointResolver:(0,ey.createCognitoUserPoolEndpointResolver)({endpointOverride:a})})({region:(0,ef.getRegionFromUserPoolId)(r)},{ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:s,ChallengeResponses:m,Session:n,ClientMetadata:o,UserContextData:g})}async function tN(e,t,o,n,i,r,s){let{userPoolId:a,userPoolClientId:c,userPoolEndpoint:d}=r,l=a?.split("_")[1]||"",E=new e2(t?.SRP_B,16),p=new e2(t?.SALT,16),u=t?.USER_ID_FOR_SRP;if(!u)throw new ec.AuthError({name:"EmptyUserIdForSRPException",message:"USER_ID_FOR_SRP was not found in challengeParameters"});let x=await i.getPasswordAuthenticationKey({username:u,password:e,serverBValue:E,salt:p}),h=tA(),m={USERNAME:u,PASSWORD_CLAIM_SECRET_BLOCK:t?.SECRET_BLOCK,TIMESTAMP:h,PASSWORD_CLAIM_SIGNATURE:tR({username:u,userPoolName:l,challengeParameters:t,dateNow:h,hkdf:x})},g=await s.getDeviceMetadata(u);g&&g.deviceKey&&(m.DEVICE_KEY=g.deviceKey);let I=tg({username:u,userPoolId:a,userPoolClientId:c}),S=eR({endpointResolver:(0,ey.createCognitoUserPoolEndpointResolver)({endpointOverride:d})}),A=await S({region:(0,ef.getRegionFromUserPoolId)(a)},{ChallengeName:"PASSWORD_VERIFIER",ChallengeResponses:m,ClientMetadata:o,Session:n,ClientId:c,UserContextData:I});return"DEVICE_SRP_AUTH"===A.ChallengeName?tv({username:u,config:r,clientMetadata:o,session:A.Session,tokenOrchestrator:s}):A}async function tC(e,t,o,n){try{return await e(...t)}catch(i){if(i instanceof ec.AuthError&&"ResourceNotFoundException"===i.name&&i.message.includes("Device does not exist."))return await n.clearDeviceMetadata(o),e(...t);throw i}}function tT(e){let{dispatch:t}=eb;t({type:"SET_USERNAME",value:e})}async function tF({username:e,password:t,clientMetadata:o,config:n,tokenOrchestrator:i,authFlow:r,preferredChallenge:s}){let{userPoolId:a,userPoolClientId:c,userPoolEndpoint:d}=n,l=a?.split("_")[1]||"",E=await tu(l),p={USERNAME:e,SRP_A:E.A.toString(16)};"USER_AUTH"===r&&s&&(p.PREFERRED_CHALLENGE=s);let u=tg({username:e,userPoolId:a,userPoolClientId:c}),x=eA({endpointResolver:(0,ey.createCognitoUserPoolEndpointResolver)({endpointOverride:d})}),h=await x({region:(0,ef.getRegionFromUserPoolId)(a),userAgentValue:(0,ex.getAuthUserAgentValue)(er.AuthAction.SignIn)},{AuthFlow:r,AuthParameters:p,ClientMetadata:o,ClientId:c,UserContextData:u}),{ChallengeParameters:m,Session:g}=h,I=m?.USERNAME??e;return(tT(I),"PASSWORD_VERIFIER"===h.ChallengeName)?tC(tN,[t,m,o,g,E,n,i],I,i):h}let tU="userAttributes.";async function tw(e,t,o,n,i){let{userPoolClientId:r,userPoolId:s,userPoolEndpoint:a}=n,c={USERNAME:e,PASSWORD:t},d=await i.getDeviceMetadata(e);d&&d.deviceKey&&(c.DEVICE_KEY=d.deviceKey);let l=tg({username:e,userPoolId:s,userPoolClientId:r}),E=eA({endpointResolver:(0,ey.createCognitoUserPoolEndpointResolver)({endpointOverride:a})}),p=await E({region:(0,ef.getRegionFromUserPoolId)(s),userAgentValue:(0,ex.getAuthUserAgentValue)(er.AuthAction.SignIn)},{AuthFlow:"USER_PASSWORD_AUTH",AuthParameters:c,ClientMetadata:o,ClientId:r,UserContextData:l}),u=p.ChallengeParameters?.USERNAME??p.ChallengeParameters?.USER_ID_FOR_SRP??e;return(tT(u),"DEVICE_SRP_AUTH"===p.ChallengeName)?tv({username:u,config:n,clientMetadata:o,session:p.Session,tokenOrchestrator:i}):p}async function tD(e,t,o,n,i){return tF({username:e,password:t,clientMetadata:o,config:n,tokenOrchestrator:i,authFlow:"USER_SRP_AUTH"})}async function t_(e,t,o,n){let{userPoolClientId:i,userPoolId:r,userPoolEndpoint:s}=o,a={USERNAME:e},c=await n.getDeviceMetadata(e);c&&c.deviceKey&&(a.DEVICE_KEY=c.deviceKey);let d=tg({username:e,userPoolId:r,userPoolClientId:i}),l=eA({endpointResolver:(0,ey.createCognitoUserPoolEndpointResolver)({endpointOverride:s})}),E=await l({region:(0,ef.getRegionFromUserPoolId)(r),userAgentValue:(0,ex.getAuthUserAgentValue)(er.AuthAction.SignIn)},{AuthFlow:"CUSTOM_AUTH",AuthParameters:a,ClientMetadata:t,ClientId:i,UserContextData:d}),p=E.ChallengeParameters?.USERNAME??e;return(tT(p),"DEVICE_SRP_AUTH"===E.ChallengeName)?tv({username:p,config:o,clientMetadata:t,session:E.Session,tokenOrchestrator:n}):E}async function tM(e,t,o,n,i){(0,es.assertTokenProviderConfig)(n);let{userPoolId:r,userPoolClientId:s,userPoolEndpoint:a}=n,c=r?.split("_")[1]||"",d=await tu(c),l={USERNAME:e,SRP_A:d.A.toString(16),CHALLENGE_NAME:"SRP_A"},E=tg({username:e,userPoolId:r,userPoolClientId:s}),p=eA({endpointResolver:(0,ey.createCognitoUserPoolEndpointResolver)({endpointOverride:a})}),{ChallengeParameters:u,Session:x}=await p({region:(0,ef.getRegionFromUserPoolId)(r),userAgentValue:(0,ex.getAuthUserAgentValue)(er.AuthAction.SignIn)},{AuthFlow:"CUSTOM_AUTH",AuthParameters:l,ClientMetadata:o,ClientId:s,UserContextData:E}),h=u?.USERNAME??e;return tT(h),tC(tN,[t,u,o,x,d,n,i],h,i)}async function tb(e){var t,o,n;let{challengeName:i,challengeParameters:r,availableChallenges:s}=e,a=ei.Amplify.getConfig().Auth?.Cognito;switch((0,es.assertTokenProviderConfig)(a),i){case"CUSTOM_CHALLENGE":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_CUSTOM_CHALLENGE",additionalInfo:r}};case"MFA_SETUP":{let{signInSession:e,username:n}=eb.getState(),i=tk(tB(r.MFAS_CAN_SETUP))||[],s=i.filter(e=>"EMAIL"===e||"TOTP"===e),c=s.includes("TOTP"),d=s.includes("EMAIL");if(c&&d)return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_MFA_SETUP_SELECTION",allowedMFATypes:s}};if(d)return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_EMAIL_SETUP"}};if(c){let i,r=(i={endpointResolver:(0,ey.createCognitoUserPoolEndpointResolver)({endpointOverride:a.userPoolEndpoint})},(0,eh.composeServiceApi)(eI.cognitoUserPoolTransferHandler,(0,em.createUserPoolSerializer)("AssociateSoftwareToken"),(0,eg.createUserPoolDeserializer)(),{...eS.DEFAULT_SERVICE_CLIENT_API_CONFIG,...i})),{Session:s,SecretCode:c}=await r({region:(0,ef.getRegionFromUserPoolId)(a.userPoolId)},{Session:e});return eb.dispatch({type:"SET_SIGN_IN_SESSION",value:s}),{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_TOTP_SETUP",totpSetupDetails:(t=c,o=n,{sharedSecret:t,getSetupUri:(e,n)=>{let i=`otpauth://totp/${e}:${n??o}?secret=${t}&issuer=${e}`;return new ea.AmplifyUrl(i)}})}}}throw new ec.AuthError({name:ed.AuthErrorCodes.SignInException,message:`Cannot initiate MFA setup from available types: ${i}`})}case"NEW_PASSWORD_REQUIRED":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_NEW_PASSWORD_REQUIRED",missingAttributes:(n=r.requiredAttributes)?JSON.parse(n).map(e=>e.includes(tU)?e.replace(tU,""):e):[]}};case"SELECT_MFA_TYPE":return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_MFA_SELECTION",allowedMFATypes:tk(tB(r.MFAS_CAN_CHOOSE))}};case"SMS_OTP":case"SMS_MFA":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_SMS_CODE",codeDeliveryDetails:{deliveryMedium:r.CODE_DELIVERY_DELIVERY_MEDIUM,destination:r.CODE_DELIVERY_DESTINATION}}};case"SOFTWARE_TOKEN_MFA":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_TOTP_CODE"}};case"EMAIL_OTP":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_EMAIL_CODE",codeDeliveryDetails:{deliveryMedium:r.CODE_DELIVERY_DELIVERY_MEDIUM,destination:r.CODE_DELIVERY_DESTINATION}}};case"WEB_AUTHN":{let e=await tm(r);if("isSignedIn"in e&&"nextStep"in e)return e;return tb(e)}case"PASSWORD":case"PASSWORD_SRP":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_PASSWORD"}};case"SELECT_CHALLENGE":return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_FIRST_FACTOR_SELECTION",availableChallenges:s}}}throw new ec.AuthError({name:ed.AuthErrorCodes.SignInException,message:`An error occurred during the sign in process. ${i} challengeName returned by the underlying service was not addressed.`})}function tO(e){return e===G.PasswordResetRequiredException?{isSignedIn:!1,nextStep:{signInStep:"RESET_PASSWORD"}}:e===G.UserNotConfirmedException?{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_UP"}}:void 0}function tL(e){return"SMS_MFA"===e?"SMS":"SOFTWARE_TOKEN_MFA"===e?"TOTP":"EMAIL_OTP"===e?"EMAIL":void 0}function tk(e){if(e)return e.map(tL).filter(Boolean)}function tB(e){return e?JSON.parse(e):[]}async function tV(){let e;try{e=await (0,eu.getCurrentUser)()}catch(e){}if(e&&e.userId&&e.username)throw new ec.AuthError({name:ep.USER_ALREADY_AUTHENTICATED_EXCEPTION,message:"There is already a signed in user.",recoverySuggestion:"Call signOut before calling signIn again."})}function tq(e){return eb.getState().username??e}var tH=e.i(67038);async function tz(e){let t=ei.Amplify.getConfig().Auth?.Cognito;(0,es.assertTokenProviderConfig)(t);let{username:o,password:n,options:i}=e,r={loginId:o,authFlowType:"CUSTOM_WITHOUT_SRP"},s=i?.clientMetadata;(0,eE.assertValidationError)(!!o,el.AuthValidationErrorCode.EmptySignInUsername),(0,eE.assertValidationError)(!n,el.AuthValidationErrorCode.CustomAuthSignInPassword);try{let{ChallengeName:e,ChallengeParameters:n,AuthenticationResult:i,Session:a}=await tC(t_,[o,s,t,eP.tokenOrchestrator],o,eP.tokenOrchestrator),c=tq(o);if(eO({signInSession:a,username:c,challengeName:e,signInDetails:r}),i)return await eN({username:c,...i,NewDeviceMetadata:await th({userPoolId:t.userPoolId,userPoolEndpoint:t.userPoolEndpoint,newDeviceMetadata:i.NewDeviceMetadata,accessToken:i.AccessToken}),signInDetails:r}),eD(),await eT(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return tb({challengeName:e,challengeParameters:n})}catch(t){eD(),(0,tH.assertServiceError)(t);let e=tO(t.name);if(e)return e;throw t}}async function tW(e){let{username:t,password:o,options:n}=e,i={loginId:t,authFlowType:"CUSTOM_WITH_SRP"},r=ei.Amplify.getConfig().Auth?.Cognito;(0,es.assertTokenProviderConfig)(r);let s=n?.clientMetadata;(0,eE.assertValidationError)(!!t,el.AuthValidationErrorCode.EmptySignInUsername),(0,eE.assertValidationError)(!!o,el.AuthValidationErrorCode.EmptySignInPassword);try{let{ChallengeName:e,ChallengeParameters:n,AuthenticationResult:a,Session:c}=await tM(t,o,s,r,eP.tokenOrchestrator),d=tq(t);if(eO({signInSession:c,username:d,challengeName:e,signInDetails:i}),a)return await eN({username:d,...a,NewDeviceMetadata:await th({userPoolId:r.userPoolId,userPoolEndpoint:r.userPoolEndpoint,newDeviceMetadata:a.NewDeviceMetadata,accessToken:a.AccessToken}),signInDetails:i}),eD(),await eT(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return tb({challengeName:e,challengeParameters:n})}catch(t){eD(),(0,tH.assertServiceError)(t);let e=tO(t.name);if(e)return e;throw t}}function tK(){return{active:!1}}let t$=(r=(D=(e,t)=>{switch(t.type){case"SET_USERNAME":return{...e,username:t.value};case"SET_SESSION":return{...e,session:t.value};case"START":return{...e,active:!0};case"RESET":return tK();default:return e}})(tK(),{type:"RESET"}),{getState:()=>r,dispatch:e=>{r=D(r,e)}});function tG(e){}function tY(e=!0){t$.dispatch({type:"RESET"})}async function tZ(e){let{username:t,password:o}=e,n=ei.Amplify.getConfig().Auth?.Cognito,i={loginId:t,authFlowType:"USER_SRP_AUTH"};(0,es.assertTokenProviderConfig)(n);let r=e.options?.clientMetadata;(0,eE.assertValidationError)(!!t,el.AuthValidationErrorCode.EmptySignInUsername),(0,eE.assertValidationError)(!!o,el.AuthValidationErrorCode.EmptySignInPassword);try{let{ChallengeName:e,ChallengeParameters:s,AuthenticationResult:a,Session:c}=await tD(t,o,r,n,eP.tokenOrchestrator),d=tq(t);if(eO({signInSession:c,username:d,challengeName:e,signInDetails:i}),a)return await eN({username:d,...a,NewDeviceMetadata:await th({userPoolId:n.userPoolId,userPoolEndpoint:n.userPoolEndpoint,newDeviceMetadata:a.NewDeviceMetadata,accessToken:a.AccessToken}),signInDetails:i}),eD(),await eT(),tY(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return tb({challengeName:e,challengeParameters:s})}catch(t){eD(),tY(),(0,tH.assertServiceError)(t);let e=tO(t.name);if(e)return e;throw t}}async function tJ(e){let{username:t,password:o,options:n}=e,i=ei.Amplify.getConfig().Auth?.Cognito,r={loginId:t,authFlowType:"USER_PASSWORD_AUTH"};(0,es.assertTokenProviderConfig)(i);let s=n?.clientMetadata;(0,eE.assertValidationError)(!!t,el.AuthValidationErrorCode.EmptySignInUsername),(0,eE.assertValidationError)(!!o,el.AuthValidationErrorCode.EmptySignInPassword);try{let{ChallengeName:e,ChallengeParameters:n,AuthenticationResult:a,Session:c}=await tC(tw,[t,o,s,i,eP.tokenOrchestrator],t,eP.tokenOrchestrator),d=tq(t);if(eO({signInSession:c,username:d,challengeName:e,signInDetails:r}),a)return await eN({...a,username:d,NewDeviceMetadata:await th({userPoolId:i.userPoolId,userPoolEndpoint:i.userPoolEndpoint,newDeviceMetadata:a.NewDeviceMetadata,accessToken:a.AccessToken}),signInDetails:r}),eD(),await eT(),tY(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return tb({challengeName:e,challengeParameters:n})}catch(t){eD(),tY(),(0,tH.assertServiceError)(t);let e=tO(t.name);if(e)return e;throw t}}async function tj({username:e,clientMetadata:t,config:o,tokenOrchestrator:n,preferredChallenge:i,password:r,session:s}){let{userPoolId:a,userPoolClientId:c,userPoolEndpoint:d}=o,l=tg({username:e,userPoolId:a,userPoolClientId:c}),E={USERNAME:e};if(i){if("PASSWORD_SRP"===i)return(0,eE.assertValidationError)(!!r,el.AuthValidationErrorCode.EmptySignInPassword),tF({username:e,password:r,clientMetadata:t,config:o,tokenOrchestrator:n,authFlow:"USER_AUTH",preferredChallenge:i});"PASSWORD"===i&&((0,eE.assertValidationError)(!!r,el.AuthValidationErrorCode.EmptySignInPassword),E.PASSWORD=r),E.PREFERRED_CHALLENGE=i}let p={AuthFlow:"USER_AUTH",AuthParameters:E,ClientMetadata:t,ClientId:c,UserContextData:l};s&&(p.Session=s);let u=eA({endpointResolver:(0,ey.createCognitoUserPoolEndpointResolver)({endpointOverride:d})}),x=await u({region:(0,ef.getRegionFromUserPoolId)(a),userAgentValue:(0,ex.getAuthUserAgentValue)(er.AuthAction.SignIn)},p);return tT(e),x}async function tX(e){let{username:t,password:o,options:n}=e,i=ei.Amplify.getConfig().Auth?.Cognito,r={loginId:t,authFlowType:"USER_AUTH"};(0,es.assertTokenProviderConfig)(i);let s=n?.clientMetadata,a=n?.preferredChallenge;(0,eE.assertValidationError)(!!t,el.AuthValidationErrorCode.EmptySignInUsername);try{let e={username:t,config:i,tokenOrchestrator:eP.tokenOrchestrator,clientMetadata:s,preferredChallenge:a,password:o},n=t$.getState();n.active&&n.username===t&&(e.session=n.session);let c=await tj(e),d=tq(t);if(eO({signInSession:c.Session,username:d,challengeName:c.ChallengeName,signInDetails:r}),c.AuthenticationResult)return await eN({username:d,...c.AuthenticationResult,NewDeviceMetadata:await th({userPoolId:i.userPoolId,userPoolEndpoint:i.userPoolEndpoint,newDeviceMetadata:c.AuthenticationResult.NewDeviceMetadata,accessToken:c.AuthenticationResult.AccessToken}),signInDetails:r}),eD(),await eT(),tY(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return tb({challengeName:c.ChallengeName,challengeParameters:c.ChallengeParameters,availableChallenges:"AvailableChallenges"in c?c.AvailableChallenges:void 0})}catch(t){eD(),tY(),(0,tH.assertServiceError)(t);let e=tO(t.name);if(e)return e;throw t}}async function tQ(e){tY(!1);let t=e.options?.authFlowType;switch(await tV(),t){case"USER_SRP_AUTH":default:return tZ(e);case"USER_PASSWORD_AUTH":return tJ(e);case"CUSTOM_WITHOUT_SRP":return tz(e);case"CUSTOM_WITH_SRP":return tW(e);case"USER_AUTH":return tX(e)}}e.s(["autoSignInStore",()=>t$],52195),e.s(["resetAutoSignIn",()=>tY,"setAutoSignIn",()=>tG],63116),e.s(["signInWithUserAuth",()=>tX],5949),e.s(["signIn",()=>tQ],5809)}]);