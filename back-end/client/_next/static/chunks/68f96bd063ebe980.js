(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6919,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},76823,e=>{"use strict";function t(e){return Object.entries(e).map(([e,t])=>({Name:e,Value:t}))}function r(e){let t={};return e?.forEach(e=>{e.Name&&(t[e.Name]=e.Value)}),t}e.s(["toAttributeType",()=>t,"toAuthUserAttribute",()=>r])},70295,e=>{"use strict";var t=e.i(26799),r=e.i(95173),n=e.i(57646);let i=async e=>{var t;let i=e.getConfig().Auth?.Cognito;(0,r.assertTokenProviderConfig)(i);let s=await e.Auth.getTokens({forceRefresh:!1});(0,n.assertAuthTokens)(s);let{"cognito:username":o,sub:a}=s.idToken?.payload??{},d={username:o,userId:a},l=(t=s,t?.signInDetails);return l&&(d.signInDetails=l),d},s=async()=>i(t.Amplify);e.s(["getCurrentUser",()=>s],70295)},23750,20673,10708,e=>{"use strict";var t=e.i(29511),r=e.i(47163);function n({className:e,type:n,...i}){return(0,t.jsx)("input",{type:n,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...i})}e.s(["Input",()=>n],23750);var i=e.i(58138),s=e.i(49463),o=e.i(64701),a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,r)=>{let n=i.forwardRef((e,n)=>{let{asChild:i,...s}=e,a=i?o.Slot:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(a,{...s,ref:n})});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{});function d(e,t){e&&s.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>a,"dispatchDiscreteCustomEvent",()=>d],20673);var l=i.forwardRef((e,r)=>(0,t.jsx)(a.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));function u({className:e,...n}){return(0,t.jsx)(l,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...n})}l.displayName="Label",e.s(["Label",()=>u],10708)},86131,30811,7846,e=>{"use strict";(r=s||(s={})).EmptySignInUsername="EmptySignInUsername",r.EmptySignInPassword="EmptySignInPassword",r.CustomAuthSignInPassword="CustomAuthSignInPassword",r.EmptySignUpUsername="EmptySignUpUsername",r.EmptySignUpPassword="EmptySignUpPassword",r.EmptyConfirmSignUpUsername="EmptyConfirmSignUpUsername",r.EmptyConfirmSignUpCode="EmptyConfirmSignUpCode",r.EmptyResendSignUpCodeUsername="EmptyresendSignUpCodeUsername",r.EmptyChallengeResponse="EmptyChallengeResponse",r.EmptyConfirmResetPasswordUsername="EmptyConfirmResetPasswordUsername",r.EmptyConfirmResetPasswordNewPassword="EmptyConfirmResetPasswordNewPassword",r.EmptyConfirmResetPasswordConfirmationCode="EmptyConfirmResetPasswordConfirmationCode",r.EmptyResetPasswordUsername="EmptyResetPasswordUsername",r.EmptyVerifyTOTPSetupCode="EmptyVerifyTOTPSetupCode",r.EmptyConfirmUserAttributeCode="EmptyConfirmUserAttributeCode",r.IncorrectMFAMethod="IncorrectMFAMethod",r.EmptyUpdatePassword="EmptyUpdatePassword",e.s(["AuthValidationErrorCode",()=>s],30811);let t={[s.EmptyChallengeResponse]:{message:"challengeResponse is required to confirmSignIn"},[s.EmptyConfirmResetPasswordUsername]:{message:"username is required to confirmResetPassword"},[s.EmptyConfirmSignUpCode]:{message:"code is required to confirmSignUp"},[s.EmptyConfirmSignUpUsername]:{message:"username is required to confirmSignUp"},[s.EmptyConfirmResetPasswordConfirmationCode]:{message:"confirmationCode is required to confirmResetPassword"},[s.EmptyConfirmResetPasswordNewPassword]:{message:"newPassword is required to confirmResetPassword"},[s.EmptyResendSignUpCodeUsername]:{message:"username is required to confirmSignUp"},[s.EmptyResetPasswordUsername]:{message:"username is required to resetPassword"},[s.EmptySignInPassword]:{message:"password is required to signIn"},[s.EmptySignInUsername]:{message:"username is required to signIn"},[s.EmptySignUpPassword]:{message:"password is required to signUp"},[s.EmptySignUpUsername]:{message:"username is required to signUp"},[s.CustomAuthSignInPassword]:{message:"A password is not needed when signing in with CUSTOM_WITHOUT_SRP",recoverySuggestion:"Do not include a password in your signIn call."},[s.IncorrectMFAMethod]:{message:"Incorrect MFA method was chosen. It should be either SMS, TOTP, or EMAIL",recoverySuggestion:"Try to pass SMS, TOTP, or EMAIL as the challengeResponse"},[s.EmptyVerifyTOTPSetupCode]:{message:"code is required to verifyTotpSetup"},[s.EmptyUpdatePassword]:{message:"oldPassword and newPassword are required to changePassword"},[s.EmptyConfirmUserAttributeCode]:{message:"confirmation code is required to confirmUserAttribute"}};(n=o||(o={})).DEFAULT_MSG="Authentication Error",n.EMPTY_EMAIL="Email cannot be empty",n.EMPTY_PHONE="Phone number cannot be empty",n.EMPTY_USERNAME="Username cannot be empty",n.INVALID_USERNAME="The username should either be a string or one of the sign in types",n.EMPTY_PASSWORD="Password cannot be empty",n.EMPTY_CODE="Confirmation code cannot be empty",n.SIGN_UP_ERROR="Error creating account",n.NO_MFA="No valid MFA method provided",n.INVALID_MFA="Invalid MFA type",n.EMPTY_CHALLENGE="Challenge response cannot be empty",n.NO_USER_SESSION="Failed to get the session because the user is empty",n.NETWORK_ERROR="Network Error",n.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",n.AUTOSIGNIN_ERROR="Please use your credentials to sign in",n.OAUTH_ERROR="Couldn't finish OAuth flow, check your User Pool HostedUI settings",(i=a||(a={})).SignInException="SignInException",i.OAuthSignInError="OAuthSignInException",e.s(["AuthErrorCodes",()=>a,"validationErrorMap",()=>t],7846);var r,n,i,s,o,a,d=e.i(37422);function l(e,r){let{message:n,recoverySuggestion:i}=t[r];if(!e)throw new d.AuthError({name:r,message:n,recoverySuggestion:i})}e.s(["assertValidationError",()=>l],86131)},82306,e=>{"use strict";var t=e.i(29511),r=e.i(58138),n=e.i(16755),i=e.i(10641),s=e.i(26799),o=e.i(95173),a=e.i(69675),d=e.i(86131),l=e.i(30811),u=e.i(29423),m=e.i(76823),p=e.i(72429),c=e.i(5809),g=e.i(37422),S=e.i(63116),f=e.i(48050),y=e.i(5949);function h(e,t){let r;return n=>{r||e(...n),clearTimeout(r),r=setTimeout(()=>{r=void 0},t)}}let C=h(function(e,t,r){let n=Date.now(),i=setInterval(async()=>{if(Date.now()-n>18e4)clearInterval(i),r(new g.AuthError({name:f.AUTO_SIGN_IN_EXCEPTION,message:"The account was not confirmed on time.",recoverySuggestion:"Try to verify your account by clicking the link sent your email or phone and then login manually."})),(0,S.resetAutoSignIn)();else try{let r=await (0,c.signIn)(e);"CONFIRM_SIGN_UP"!==r.nextStep.signInStep&&(t(r),clearInterval(i),(0,S.resetAutoSignIn)())}catch(e){clearInterval(i),r(e),(0,S.resetAutoSignIn)()}},5e3)},300),E=h(U,300);async function U(e,t,r){try{let r=e?.options?.authFlowType==="USER_AUTH"?await (0,y.signInWithUserAuth)(e):await (0,c.signIn)(e);t(r),(0,S.resetAutoSignIn)()}catch(e){r(e),(0,S.resetAutoSignIn)()}}function I(e){return async()=>new Promise((t,r)=>{E([e,t,r])})}var w=e.i(24135),A=e.i(49147),v=e.i(93968),P=e.i(88125),b=e.i(7846),x=e.i(67038),T=e.i(48532),N=e.i(14970),R=e.i(9994),_=e.i(14258),O=e.i(93420),M=e.i(52195);async function j(e){let t,{username:r,password:n,options:i}=e,c=s.Amplify.getConfig().Auth?.Cognito,f=c?.signUpVerificationMethod??"code",{clientMetadata:y,validationData:h,autoSignIn:E}=e.options??{};(0,o.assertTokenProviderConfig)(c),(0,d.assertValidationError)(!!r,l.AuthValidationErrorCode.EmptySignUpUsername);let U="boolean"!=typeof E?E:void 0,j={username:r,options:U};U?.authFlowType!=="CUSTOM_WITHOUT_SRP"&&(j.password=n);let{userPoolId:D,userPoolClientId:V,userPoolEndpoint:F}=c,L=(t={endpointResolver:(0,O.createCognitoUserPoolEndpointResolver)({endpointOverride:F})},(0,v.composeServiceApi)(R.cognitoUserPoolTransferHandler,(0,N.createUserPoolSerializer)("SignUp"),async e=>{if(e.statusCode>=300){let t=await (0,P.parseJsonError)(e);if((0,x.assertServiceError)(t),t.name===T.SignUpException.InvalidParameterException&&/'password'/.test(t.message)&&/Member must not be null/.test(t.message)){let e=l.AuthValidationErrorCode.EmptySignUpPassword,{message:t,recoverySuggestion:r}=b.validationErrorMap[e];throw new g.AuthError({name:e,message:t,recoverySuggestion:r})}throw new g.AuthError({name:t.name,message:t.message})}return(0,P.parseJsonBody)(e)},{..._.DEFAULT_SERVICE_CLIENT_API_CONFIG,...t})),k={Username:r,Password:void 0,UserAttributes:i?.userAttributes&&(0,m.toAttributeType)(i?.userAttributes),ClientMetadata:y,ValidationData:h&&(0,m.toAttributeType)(h),ClientId:V,UserContextData:(0,w.getUserContextData)({username:r,userPoolId:D,userPoolClientId:V})};n&&(k.Password=n);let{UserSub:q,CodeDeliveryDetails:G,UserConfirmed:H,Session:B}=await L({region:(0,u.getRegionFromUserPoolId)(D),userAgentValue:(0,A.getAuthUserAgentValue)(a.AuthAction.SignUp)},k);(U||!0===E)&&(M.autoSignInStore.dispatch({type:"START"}),M.autoSignInStore.dispatch({type:"SET_USERNAME",value:r}),M.autoSignInStore.dispatch({type:"SET_SESSION",value:B}));let Y={destination:G?.Destination,deliveryMedium:G?.DeliveryMedium,attributeName:G?.AttributeName},z=M.autoSignInStore.getState().active;if(H)return z?((0,S.setAutoSignIn)(I(j)),{isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"},userId:q}):{isSignUpComplete:!0,nextStep:{signUpStep:"DONE"},userId:q};if(z){let e,t;if("link"===f)return(0,S.setAutoSignIn)(async()=>new Promise((e,t)=>{C([j,e,t])})),{isSignUpComplete:!1,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN",codeDeliveryDetails:Y},userId:q};e=p.HubInternal.listen("auth-internal",async({payload:t})=>{if("confirmSignUp"===t.event){let r=t.data;r?.isSignUpComplete&&(p.HubInternal.dispatch("auth-internal",{event:"autoSignIn"}),(0,S.setAutoSignIn)(I(j)),e())}}),t=setTimeout(()=>{e(),clearTimeout(t),(0,S.resetAutoSignIn)()},18e4)}return{isSignUpComplete:!1,nextStep:{signUpStep:"CONFIRM_SIGN_UP",codeDeliveryDetails:Y},userId:q}}var D=e.i(98531);async function V(e){let t,{username:r,confirmationCode:n,options:i}=e,m=s.Amplify.getConfig().Auth?.Cognito;(0,o.assertTokenProviderConfig)(m);let{userPoolId:c,userPoolClientId:g,userPoolEndpoint:f}=m,y=i?.clientMetadata;(0,d.assertValidationError)(!!r,l.AuthValidationErrorCode.EmptyConfirmSignUpUsername),(0,d.assertValidationError)(!!n,l.AuthValidationErrorCode.EmptyConfirmSignUpCode);let h=(0,w.getUserContextData)({username:r,userPoolId:c,userPoolClientId:g}),C=(t={endpointResolver:(0,O.createCognitoUserPoolEndpointResolver)({endpointOverride:f})},(0,v.composeServiceApi)(R.cognitoUserPoolTransferHandler,(0,N.createUserPoolSerializer)("ConfirmSignUp"),(0,D.createUserPoolDeserializer)(),{..._.DEFAULT_SERVICE_CLIENT_API_CONFIG,...t})),{Session:E}=await C({region:(0,u.getRegionFromUserPoolId)(m.userPoolId),userAgentValue:(0,A.getAuthUserAgentValue)(a.AuthAction.ConfirmSignUp)},{Username:r,ConfirmationCode:n,ClientMetadata:y,ForceAliasCreation:i?.forceAliasCreation,ClientId:m.userPoolClientId,UserContextData:h});return new Promise((e,t)=>{try{let t={isSignUpComplete:!0,nextStep:{signUpStep:"DONE"}},n=M.autoSignInStore.getState();if(!n.active||n.username!==r){e(t),(0,S.resetAutoSignIn)();return}M.autoSignInStore.dispatch({type:"SET_SESSION",value:E});let i=p.HubInternal.listen("auth-internal",({payload:t})=>{"autoSignIn"===t.event&&(e({isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"}}),i())});p.HubInternal.dispatch("auth-internal",{event:"confirmSignUp",data:t})}catch(e){t(e)}})}async function F(e){let t,{username:r}=e;(0,d.assertValidationError)(!!r,l.AuthValidationErrorCode.EmptySignUpUsername);let n=s.Amplify.getConfig().Auth?.Cognito;(0,o.assertTokenProviderConfig)(n);let{userPoolClientId:i,userPoolId:m,userPoolEndpoint:p}=n,c=e.options?.clientMetadata,g=(0,w.getUserContextData)({username:r,userPoolId:m,userPoolClientId:i}),S=(t={endpointResolver:(0,O.createCognitoUserPoolEndpointResolver)({endpointOverride:p})},(0,v.composeServiceApi)(R.cognitoUserPoolTransferHandler,(0,N.createUserPoolSerializer)("ResendConfirmationCode"),(0,D.createUserPoolDeserializer)(),{..._.DEFAULT_SERVICE_CLIENT_API_CONFIG,...t})),{CodeDeliveryDetails:f}=await S({region:(0,u.getRegionFromUserPoolId)(n.userPoolId),userAgentValue:(0,A.getAuthUserAgentValue)(a.AuthAction.ResendSignUpCode)},{Username:r,ClientMetadata:c,ClientId:n.userPoolClientId,UserContextData:g}),{DeliveryMedium:y,AttributeName:h,Destination:C}={...f};return{destination:C,deliveryMedium:y,attributeName:h||void 0}}var L=e.i(67881),k=e.i(23750),q=e.i(10708),G=e.i(70065);function H(){let e=(0,n.useRouter)(),[s,o]=(0,r.useState)(""),[a,d]=(0,r.useState)(""),[l,u]=(0,r.useState)(""),[m,p]=(0,r.useState)(""),[c,g]=(0,r.useState)(""),[S,f]=(0,r.useState)("signup"),[y,h]=(0,r.useState)(""),[C,E]=(0,r.useState)(""),[U,I]=(0,r.useState)(!1),w=async t=>{if(t.preventDefault(),h(""),E(""),l!==m)return void h("Passwords do not match");I(!0);try{let{nextStep:t}=await j({username:s,password:l,options:{userAttributes:{email:a,name:s}}});"CONFIRM_SIGN_UP"===t.signUpStep?(f("verify"),E("Account created! Please check your email for the code.")):e.push("/signin")}catch(e){console.error(e),h(e.message||"Sign up failed")}finally{I(!1)}},A=async t=>{t.preventDefault(),h(""),I(!0);try{await V({username:s,confirmationCode:c}),e.push("/signin")}catch(e){h(e.message||"Verification failed")}finally{I(!1)}},v=async()=>{h(""),E("");try{await F({username:s}),E("Code resent successfully. Please check your email.")}catch(e){h(e.message||"Failed to resend code")}};return(0,t.jsx)("div",{className:"flex min-h-screen w-full items-center justify-center bg-white p-4",children:(0,t.jsxs)(G.Card,{className:"w-full max-w-md",children:[(0,t.jsxs)(G.CardHeader,{children:[(0,t.jsx)(G.CardTitle,{className:"text-2xl",children:"signup"===S?"Sign Up":"Verify Account"}),(0,t.jsx)(G.CardDescription,{children:"signup"===S?"Create a new account to get started":`Enter the code sent to ${a}`})]}),(0,t.jsxs)(G.CardContent,{children:[y&&(0,t.jsx)("div",{className:"mb-4 text-sm text-destructive font-medium",children:y}),C&&(0,t.jsx)("div",{className:"mb-4 text-sm text-green-600 font-medium",children:C}),"signup"===S?(0,t.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.Label,{htmlFor:"username",children:"Username"}),(0,t.jsx)(k.Input,{id:"username",type:"text",placeholder:"Enter username",value:s,onChange:e=>o(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.Label,{htmlFor:"email",children:"Email"}),(0,t.jsx)(k.Input,{id:"email",type:"email",placeholder:"Enter email",value:a,onChange:e=>d(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.Label,{htmlFor:"password",children:"Password"}),(0,t.jsx)(k.Input,{id:"password",type:"password",placeholder:"Enter password",value:l,onChange:e=>u(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.Label,{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,t.jsx)(k.Input,{id:"confirmPassword",type:"password",placeholder:"Confirm password",value:m,onChange:e=>p(e.target.value),required:!0})]}),(0,t.jsx)(L.Button,{type:"submit",className:"w-full",disabled:U,children:U?"Creating account...":"Sign Up"}),(0,t.jsxs)("p",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",(0,t.jsx)(i.default,{href:"/signin",className:"text-foreground underline hover:text-primary",children:"Sign in"})]})]}):(0,t.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(q.Label,{htmlFor:"code",children:"Verification Code"}),(0,t.jsx)(k.Input,{id:"code",type:"text",placeholder:"Enter 6-digit code",value:c,onChange:e=>g(e.target.value),required:!0})]}),(0,t.jsx)(L.Button,{type:"submit",className:"w-full",disabled:U,children:U?"Verifying...":"Confirm Account"}),(0,t.jsxs)("div",{className:"flex justify-between text-sm mt-4",children:[(0,t.jsx)("button",{type:"button",onClick:v,className:"text-primary hover:underline",children:"Resend Code"}),(0,t.jsx)("button",{type:"button",onClick:()=>f("signup"),className:"text-muted-foreground hover:text-foreground",children:"Back to Sign Up"})]})]})]})]})})}e.s(["default",()=>H],82306)}]);